# 小程序简介

* 小程序可以离线存储到微信中, 提升小程序的加载速度
* 提供JS-SDK, 来调用微信提供的移动端原生功能.
* 小程序的DOM渲染和JS运行, 分别在不同线程中执行的, 即渲染层和逻辑层 (称之为JSCore) 是分开的. 
* JSCore 缺少DOM API和BOM API, 也与NodeJs环境不太一样, 因此很多NPM库不能正常使用.
* 小程序开发: 申请小程序账号 --> 安装小程序开发者工具 --> 配置项目

* [小程序Demo](https://github.com/wechat-miniprogram/miniprogram-demo)

# 开始

* [申请账户号](https://mp.weixin.qq.com/wxopen/waregister?action=step1)

* 在[后台](https://mp.weixin.qq.com/) / 开发 / 开发设置 中, 可以看到AppID和AppSecret

  * AppID 代表应用身份
  * AppSecret 确保身份正确的密码

* 安装[开发工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)

* 新建项目

  > 不勾选云开发, 填入小程序AppID

* 工具使用

  * 编译, 保存文件后会自动编译, 并更新视图
  * 预览, 能够直接在真机上预览效果

# 程序代码构成

* JSON配置文件

  * 小程序配置`app.json`

    全局配置, 包括页面路径, 界面表现, 网络超时时间, 底部tab等.

    * `pages`字段: 配置页面路径
    * `window`字段: 定义所有页面的顶部背景颜色, 文字颜色等.

    > 详细配置可参考[app.json](https://developers.weixin.qq.com/miniprogram/dev/framework/config.html)

  * 工具配置 `project.config.json`

    开发工具的配置. 打开项目时, 会载入该配置; 修改开发工具时, 会同步到该文件中.

    > 详细可参考[开发者工具的配置](https://developers.weixin.qq.com/miniprogram/dev/devtools/projectconfig.html)

  * 页面配置 `pages/logs/logs.json`

    与`app.json`相比, `logs.json`可为单独页面配置, 而`app.json`仅为全局配置.

    > 参考[页面配置](https://developers.weixin.qq.com/miniprogram/dev/framework/config.html#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE)

* WXML文件
  * 可类比为HTML, 仅用于描述界面.
  * 支持MVVM的开发模式, 类似Vue; 
  * 支持数据绑定
  * 提供控制能力的属性, 增强状态与界面的转化能力, 属性以`wx:`为前缀.

# 坑

* 公众号 & 小程序

  不要误使用了公众号的AppID. 小程序账号需要单独注册, 且使用不同的邮箱. 

  两者入口地址都是 https://mp.weixin.qq.com/ , 输入不同的邮箱将进入不同的后台页面, 如公众号后台或小程序后台.

  > 参考[小程序 / 当前开发者未绑定此AppID，请到小程序管理后台操作重试](https://blog.csdn.net/zhumizhumi/article/details/102819835)